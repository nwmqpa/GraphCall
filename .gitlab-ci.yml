image: nwmqpa/modbuilder

stages:
    - build_java

compile_master:
    stage: build_java
    only:
        - master
    variables:
        ORG_GRADLE_PROJECT_repo: "libs-release"
    script:
        - cd java && ./gradlew artifactoryPublish


compile_dev:
    stage: build_java
    only:
        - dev
    variables:
        ORG_GRADLE_PROJECT_repo: "libs-snapshot"
    script:
        - cd java && ./gradlew artifactoryPublish

